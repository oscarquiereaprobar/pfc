<div class="profile-container">
  <h2>Mi Perfil</h2>

  <form class="profile-form" (ngSubmit)="updateProfile()" #form="ngForm">
    <label>Nombre:</label>
    <input type="text" [(ngModel)]="user.name" name="name" required #name="ngModel">
    <div *ngIf="name.invalid && (name.dirty || name.touched)" class="error">
      <span *ngIf="name.errors?.['required']">El nombre es obligatorio.</span>
    </div>

    <label>Apellido:</label>
    <input type="text" [(ngModel)]="user.surname" name="surname" required #surname="ngModel">
    <div *ngIf="surname.invalid && (surname.dirty || surname.touched)" class="error">
      <span *ngIf="surname.errors?.['required']">El apellido es obligatorio.</span>
    </div>

    <label>Username:</label>
    <input type="text" [(ngModel)]="user.username" name="username" required #username="ngModel">
    <div *ngIf="username.invalid && (username.dirty || username.touched)" class="error">
      <span *ngIf="username.errors?.['required']">El nombre de usuario es obligatorio.</span>
    </div>

    <label>
      {{ user.admin ? 'Eres administrador' : 'Eres usuario' }}
    </label>

    <button type="submit" [disabled]="form.invalid">
      <span class="material-icons" aria-hidden="true" style="font-size:18px;vertical-align:-4px;">edit</span>
      Actualizar
    </button>
  </form>

  <hr />

  <h3>Cambiar Contraseña</h3>
  <form class="password-form" (ngSubmit)="changePassword()" #passForm="ngForm">
    <label>Contraseña actual:</label>
    <input type="password" [(ngModel)]="currentPassword" name="currentPassword" required>

    <label>Nueva contraseña:</label>
    <input type="password" [(ngModel)]="newPassword" name="newPassword" required>

    <button type="submit" [disabled]="passForm.invalid">
      <span class="material-icons" aria-hidden="true" style="font-size:18px;vertical-align:-4px;">edit</span>
      Actualizar
    </button>
  </form>
</div>
